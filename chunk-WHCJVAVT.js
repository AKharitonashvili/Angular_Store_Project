import{a as D,h as j,j as P,k as B}from"./chunk-LDQ34O2K.js";import{a as Q,b as L}from"./chunk-QX6N3CTR.js";import{m as E,y as M,z as q}from"./chunk-EENBXHUI.js";import{$a as c,Bb as T,Cb as C,Db as s,Gb as p,Ib as f,Kb as k,Mb as I,Nb as V,Z as h,ab as b,oa as F,pb as u,qc as A,rb as _,t as y,u as S,ub as v,vb as g,wb as $,xb as w,ya as l,yb as o,za as d,zb as m}from"./chunk-SFY7KE4I.js";function z(i,r){if(i&1&&(o(0,"span",8)(1,"del"),p(2),m()()),i&2){let e=s().$implicit;c(2),f("$ ",e.oldPrice*e.quantity,"")}}function G(i,r){if(i&1){let e=T();o(0,"app-cart-card",2),C("remove",function(){let t=l(e).$implicit,a=s(2);return d(a.removeFromFavorites(t))}),o(1,"section",3)(2,"div",3)(3,"button",4),C("click",function(){let t=l(e).$implicit,a=s(2);return d(a.decrement(t.id))}),o(4,"mat-icon"),p(5,"remove"),m()(),o(6,"div",5),p(7),m(),o(8,"button",6),C("click",function(){let t=l(e).$implicit,a=s(2);return d(a.increment(t.id))}),o(9,"mat-icon"),p(10,"add"),m()()(),o(11,"div",7),p(12),u(13,z,3,1,"span",8),m()()()}if(i&2){let e=r.$implicit;_("item",e),c(3),_("disabled",e.quantity<=1),c(4),f(" ",e.quantity," "),c(5),f(" $ ",e.price*e.quantity," "),c(),v(13,e.oldPrice?13:-1)}}function H(i,r){i&1&&(o(0,"app-cart-and-favorites",0),$(1,G,14,5,"app-cart-card",1,g),m()),i&2&&(_("title","Shopping Cart"),c(),w(r.cart))}var tt=(()=>{let r=class r{constructor(n){this.store=n,this.vm$=S([this.store.select(D)]).pipe(y(([t])=>({cart:t})),h(t=>console.log(t)))}removeFromFavorites(n){this.store.dispatch(j({id:n.id}))}increment(n){this.store.dispatch(P({id:n}))}decrement(n){this.store.dispatch(B({id:n}))}};r.\u0275fac=function(t){return new(t||r)(b(E))},r.\u0275cmp=F({type:r,selectors:[["app-cart"]],standalone:!0,features:[k],decls:2,vars:3,consts:[[3,"title"],[3,"item"],[3,"remove","item"],[1,"flex","items-center","gap-2"],["aria-label","decrease-count",1,"flex","items-center","justify-center",3,"click","disabled"],[1,"rounded-md","border","border-primary","px-4","py-1"],["aria-label","increase-count",1,"flex","items-center","justify-center",3,"click"],[1,"text-end","font-semibold"],[1,"ml-2","text-optional-3"]],template:function(t,a){if(t&1&&(u(0,H,3,1,"app-cart-and-favorites",0),I(1,"async")),t&2){let x;v(0,(x=V(1,1,a.vm$))?0:-1,x)}},dependencies:[Q,A,L,q,M],changeDetection:0});let i=r;return i})();export{tt as CartComponent};
