import{a as L,d as K}from"./chunk-JC7N6SR3.js";import{b as H,m as Q}from"./chunk-Q3EJEV4X.js";import{d as G,e as J}from"./chunk-62TVJFDI.js";import{c as N}from"./chunk-XCPBY2DG.js";import{c as W,g as X,h as Y}from"./chunk-UEMXIA2F.js";import{m as R,y as U,z as T}from"./chunk-OO7FAUGF.js";import{Ab as c,Bb as S,Cb as F,Db as x,Eb as d,Hb as p,Ib as g,Jb as w,Lb as P,Mb as V,Nb as j,Ob as D,Za as $,a as k,ab as r,b as E,bb as M,kb as v,oa as b,pc as z,qb as u,rc as B,sb as m,sc as q,t as A,u as O,vb as _,wb as h,xb as I,ya as f,yb as y,za as C,zb as a}from"./chunk-4SL2NH5E.js";function ie(e,i){if(e&1){let o=F();a(0,"button",5),x("click",function(){let t=f(o).$implicit,s=d(2);return C(s.selectImage(t))}),S(1,"img",6),c()}if(e&2){let o=i.$implicit;r(),m("src",o,$)}}function ne(e,i){if(e&1&&(a(0,"div",0)(1,"div",1),S(2,"img",2),c(),a(3,"div",3),I(4,ie,2,1,"button",4,h),c()()),e&2){let o=d();r(2),m("src",o.selectedImage(),$),r(2),y(o.imageContainer)}}var Z=(()=>{let i=class i{constructor(){this.selectedImage=v(void 0)}selectImage(n){this.selectedImage.set(n)}ngOnInit(){this.selectedImage.set(this.imageContainer?.[0])}};i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=b({type:i,selectors:[["app-image-preview"]],inputs:{imageContainer:"imageContainer"},standalone:!0,features:[P],decls:1,vars:1,consts:[[1,"flex","flex-col","items-center","justify-center","gap-7"],[1,"flex","h-[22.5rem]","w-[16.25rem]","items-center","justify-center","bg-optional-2"],[1,"max-h-full","w-[14.0rem]",3,"src"],[1,"grid","grid-cols-4","gap-4"],[1,"flex","size-16","items-center","justify-center","bg-optional-2","p-2"],[1,"flex","size-16","items-center","justify-center","bg-optional-2","p-2",3,"click"],[1,"size-12",3,"src"]],template:function(t,s){if(t&1&&u(0,ne,6,1,"div",0),t&2){let l;_(0,(l=s.imageContainer==null?null:s.imageContainer.length)!==null&&l!==void 0&&l?0:-1)}},dependencies:[T],changeDetection:0});let e=i;return e})();var oe=e=>({"bg-primary text-white":e}),re=e=>({"!opacity-100":e});function ae(e,i){e&1&&(a(0,"span",8)(1,"del"),p(2),c()()),e&2&&(r(2),w("$",i,""))}function ce(e,i){if(e&1){let o=F();a(0,"button",13),x("click",function(){let t=f(o).$index,s=d(4);return C(s.changeSelectedOption(t))}),p(1),c()}if(e&2){let o=i.$implicit,n=i.$index,t=d(4);m("ngClass",V(2,re,t.selectedOption()===n)),r(),w(" ",o," ")}}function se(e,i){if(e&1&&(a(0,"section",9),I(1,ce,2,4,"button",12,h),c()),e&2){let o=d();r(),y(o.options)}}function le(e,i){if(e&1&&(a(0,"div",14)(1,"mat-icon"),p(2),c(),a(3,"div",15)(4,"p",16),p(5),c(),a(6,"p",17),p(7),c()()()),e&2){let o=i.$implicit;r(2),g(o.icon),r(3),g(o.name),r(2),g(o.value)}}function de(e,i){if(e&1&&(a(0,"section",10),I(1,le,8,3,"div",14,h),c()),e&2){let o=d();r(),y(o.parameters)}}function pe(e,i){if(e&1){let o=F();a(0,"app-favorite-icon",1),x("favoriteClick",function(t){let s=f(o),l=d(2);return C(l.toggleFavorite(t,s))}),c(),S(1,"app-image-preview",2),a(2,"section",3)(3,"button",4),x("click",function(){let t=f(o),s=d(),l=d();return C(l.handleCart(t,s.isInCart))}),p(4),c()(),a(5,"div",5)(6,"h1",6),p(7),c(),a(8,"p",7),p(9),u(10,ae,3,1,"span",8),c(),u(11,se,3,0,"section",9)(12,de,3,0,"section",10),a(13,"section")(14,"div",11),p(15),c()()()}if(e&2){let o,n=i,t=d();m("isFavorite",t.isFavorite),r(),m("imageContainer",n.images),r(2),m("ngClass",V(10,oe,!t.isInCart)),r(),w(" ",t.isInCart?"Remove From Cart":"Add To Cart"," "),r(3),g(n.header),r(2),w(" $",n.price," "),r(),_(10,(o=n.oldPrice)?10:-1,o),r(),_(11,n.options?11:-1),r(),_(12,n.parameters?12:-1),r(3),g(n.details)}}function me(e,i){if(e&1&&(a(0,"section",0),u(1,pe,16,12),c()),e&2){let o;r(),_(1,(o=i.product)?1:-1,o)}}var Re=(()=>{let i=class i{constructor(n,t){this.store=n,this.route=t,this.productId=v(this.route.snapshot.paramMap.get("id")??""),this.vm$=O([this.store.select(L).pipe(A(s=>s?.find(l=>l.id===this.productId()))),this.store.select(W(this.productId())),this.store.select(N(this.productId()))]).pipe(A(([s,l,ee])=>({product:s,isInCart:l,isFavorite:ee}))),this.selectedOption=v(0),this.store.dispatch(Q())}changeSelectedOption(n){this.selectedOption.set(n)}toggleFavorite(n,t){n?this.store.dispatch(J({id:t.id})):this.store.dispatch(G({product:E(k({},t),{selectedOption:t.options?.[0],quantity:1})}))}handleCart(n,t){t?this.store.dispatch(Y({id:n.id})):this.store.dispatch(X({product:E(k({},n),{quantity:1,selectedOption:n.options?.[this.selectedOption()]})}))}};i.\u0275fac=function(t){return new(t||i)(M(R),M(H))},i.\u0275cmp=b({type:i,selectors:[["app-product-card"]],standalone:!0,features:[P],decls:2,vars:3,consts:[[1,"flex","flex-col","gap-14"],[1,"w-full",3,"favoriteClick","isFavorite"],[3,"imageContainer"],[1,"flex","flex-col","gap-4","md:items-end"],["aria-label","add-to-cart",1,"w-full","rounded-md","border","border-primary","p-4","hover:bg-primary-2","hover:text-white","md:max-w-sm",3,"click","ngClass"],[1,"flex","flex-col","gap-6"],[1,"text-3xl","font-bold"],[1,"text-2xl"],[1,"mx-4","text-optional-3"],[1,"grid","grid-cols-4","gap-2","text-center"],[1,"grid","grid-cols-2","gap-2"],[1,"text-sm","text-optional"],[1,"rounded-md","border","border-primary","p-4","text-sm","opacity-50",3,"ngClass"],[1,"rounded-md","border","border-primary","p-4","text-sm","opacity-50",3,"click","ngClass"],[1,"flex","items-center","justify-center","gap-2","rounded-md","bg-light-1","p-4","text-xs"],[1,"flex","flex-1","flex-col","leading-4"],[1,"text-optional-3"],[1,"font-semibold","text-primary-3"]],template:function(t,s){if(t&1&&(u(0,me,2,1,"section",0),j(1,"async")),t&2){let l;_(0,(l=D(1,1,s.vm$))?0:-1,l)}},dependencies:[q,z,B,T,U,K,Z],changeDetection:0});let e=i;return e})();export{Re as ProductComponent};
